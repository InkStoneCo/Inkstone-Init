# Inkstone-Init 需求規格書

> 版本: 1.0.0
> 日期: 2024-12-24
> 狀態: Draft

---

## Epic 1: VSCode Extension 核心架構

建立統一的 Inkstone VSCode Extension，整合所有功能模組。

### Story 1.1: Extension 基礎架構

**使用者故事：** 作為開發者，我希望有一個統一的 VSCode Extension 入口，以便使用所有 Inkstone 功能。

### Story 1.2: 一鍵安裝體驗

**使用者故事：** 作為 Vibe Coder，我希望從 VSCode Marketplace 搜尋並安裝插件即可使用，以便不需要操作終端機。

### Story 1.3: Sidebar 面板

**使用者故事：** 作為用戶，我希望在 VSCode 側邊欄看到 Inkstone 面板，以便快速存取所有功能。

---

## Epic 2: Code-Mind 筆記系統

整合 Zettelkasten 風格的程式碼內筆記功能。

### Story 2.1: 右鍵插入筆記

**使用者故事：** 作為 Vibe Coder，我希望選取文字後右鍵即可插入筆記，以便不需要記憶特殊語法。

### Story 2.2: 筆記自動補全

**使用者故事：** 作為開發者，我希望輸入 `[[` 時自動顯示筆記列表，以便快速引用現有筆記。

### Story 2.3: 筆記樹狀視圖

**使用者故事：** 作為用戶，我希望在側邊欄看到所有筆記的樹狀結構，以便瀏覽和管理知識庫。

### Story 2.4: 雙向連結導航

**使用者故事：** 作為開發者，我希望點擊筆記引用時跳轉到定義處，以便快速追蹤知識脈絡。

### Story 2.5: Daemon 自動啟動

**使用者故事：** 作為用戶，我希望 Code-Mind Daemon 在需要時自動啟動，以便不需要手動執行終端指令。

---

## Epic 3: 專案初始化

提供一鍵初始化專案結構的功能。

### Story 3.1: Initialize Project 指令

**使用者故事：** 作為開發者，我希望執行「Inkstone: Initialize Project」指令，以便自動建立標準目錄結構。

### Story 3.2: 目錄結構生成

**使用者故事：** 作為用戶，我希望初始化後自動建立 `requirements/initial/rfp/` 和 `requirements/initial/proposal/` 目錄，以便有組織地管理需求文件。

### Story 3.3: AI 工具設定檔

**使用者故事：** 作為開發者，我希望初始化時自動建立 `.claude/`、`.gemini/` 等設定目錄，以便支援多種 AI 工具。

### Story 3.4: Hooks 自動配置

**使用者故事：** 作為用戶，我希望初始化時自動設定 Claude Code hooks，以便獲得通知和 Daemon 自動啟動功能。

---

## Epic 4: Vibe Coding 工作流程

提供從自然語言需求到可執行任務的引導式流程。

### Story 4.1: Start Vibe Coding 指令

**使用者故事：** 作為 Vibe Coder，我希望執行「Inkstone: Start Vibe Coding」或 `/vibe-coding` 開始工作流程，以便將想法轉換為實作計畫。

### Story 4.2: 階段式引導 UI

**使用者故事：** 作為用戶，我希望有視覺化的引導界面顯示當前階段和進度，以便清楚知道流程進行到哪裡。

### Story 4.3: Epics/Stories/EARS 三層結構

**使用者故事：** 作為開發者，我希望需求文件使用 Epic → Story → EARS 三層結構，以便更好地組織大型專案需求。

### Story 4.4: Sprint 增量開發規劃

**使用者故事：** 作為專案經理，我希望任務按 Sprint 劃分且每個 Sprint 包含前後端，以便每個階段都可進行 E2E 測試。

### Story 4.5: Gherkin 測試腳本生成

**使用者故事：** 作為 QA，我希望自動生成 Gherkin 格式的測試腳本，以便進行自動化測試。

### Story 4.6: Test Cases 交付

**使用者故事：** 作為用戶，我希望每個 Sprint 結束時獲得完整的測試案例（含連結、帳密、測試步驟），以便驗收功能。

---

## Epic 5: 記憶管理

提供按鈕化的記憶儲存和恢復功能。

### Story 5.1: 儲存記憶按鈕

**使用者故事：** 作為用戶，我希望點擊「Save Memory」按鈕並輸入內容，以便將重要資訊儲存到 `codemind.md`。

### Story 5.2: 恢復記憶按鈕

**使用者故事：** 作為用戶，我希望點擊「Restore Memory」按鈕，以便讓 AI 讀取之前儲存的記憶。

### Story 5.3: 搜尋記憶

**使用者故事：** 作為用戶，我希望搜尋記憶內容，以便快速找到需要的資訊。

---

## Epic 6: SPARC 開發模式

提供一鍵執行各種 SPARC 開發模式的功能。

### Story 6.1: SPARC 模式面板

**使用者故事：** 作為開發者，我希望在側邊欄看到所有 SPARC 模式按鈕，以便快速選擇開發模式。

### Story 6.2: Architect 模式

**使用者故事：** 作為開發者，我希望點擊按鈕執行架構設計模式，以便不需要記憶終端指令。

### Story 6.3: Coder 模式

**使用者故事：** 作為開發者，我希望點擊按鈕執行編碼模式，以便快速開始實作。

### Story 6.4: TDD 模式

**使用者故事：** 作為開發者，我希望點擊按鈕執行測試驅動開發模式，以便建立測試套件。

---

## Epic 7: Swarm 協調

提供 Hive-Mind 蜂群協調功能的按鈕化操作。

### Story 7.1: Init Swarm 按鈕

**使用者故事：** 作為開發者，我希望點擊按鈕初始化 Swarm，以便快速啟動多 Agent 協作。

### Story 7.2: Swarm 狀態監控

**使用者故事：** 作為用戶，我希望查看當前 Swarm 的運行狀態，以便了解任務進度。

---

## Epic 8: 新需求管理

提供有組織的新需求追蹤機制。

### Story 8.1: 新需求分類判斷

**使用者故事：** 作為專案經理，我希望系統能判斷新需求是「新功能」還是「修正」，以便正確歸檔。

### Story 8.2: 需求版本資料夾

**使用者故事：** 作為開發者，我希望每個新需求有獨立的資料夾（如 `requirements/feature-xxx/`），以便追蹤需求歷史。

---

## Epic 9: 多 AI 工具支援

支援 Claude Code 以外的 AI 開發工具。

### Story 9.1: Gemini CLI 支援

**使用者故事：** 作為 Gemini 用戶，我希望使用相同的專案結構和工作流程，以便無縫切換 AI 工具。

### Story 9.2: Codex 支援

**使用者故事：** 作為 Codex 用戶，我希望有對應的設定檔（如 `AGENTS.md`），以便 Codex 能理解專案脈絡。

### Story 9.3: 通用 AI 指引

**使用者故事：** 作為開發者，我希望有通用的 AI 指引文件，以便任何 AI 工具都能理解專案規範。
